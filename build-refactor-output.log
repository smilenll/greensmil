
> greensmil@0.1.0 build
> next build

   â–² Next.js 15.5.6
   - Environments: .env.local, .env
   - Experiments (use with caution):
     Â· serverActions

   Creating an optimized production build ...
 âœ“ Compiled successfully in 14.5s
   Linting and checking validity of types ...
Failed to compile.

./src/actions/deployment-actions.ts:34:28
Type error: Argument of type '() => Promise<{ status: "error"; error: string; } | { status: "unauthorized"; error: string; requiresAuth: true; } | { status: "success"; data: { status: "UNAVAILABLE"; }; } | { status: "success"; data: { ...; }; }>' is not assignable to parameter of type '(user: { userId: string; username: string; groups: string[]; }) => Promise<ActionResponse<{ status: "UNAVAILABLE"; }>>'.
  Type 'Promise<{ status: "error"; error: string; } | { status: "unauthorized"; error: string; requiresAuth: true; } | { status: "success"; data: { status: "UNAVAILABLE"; }; } | { status: "success"; data: { status: "PENDING" | ... 5 more ... | "UNAVAILABLE"; ... 7 more ...; buildUrl: string; }; }>' is not assignable to type 'Promise<ActionResponse<{ status: "UNAVAILABLE"; }>>'.
    Type '{ status: "error"; error: string; } | { status: "unauthorized"; error: string; requiresAuth: true; } | { status: "success"; data: { status: "UNAVAILABLE"; }; } | { status: "success"; data: { status: "PENDING" | ... 5 more ... | "UNAVAILABLE"; ... 7 more ...; buildUrl: string; }; }' is not assignable to type 'ActionResponse<{ status: "UNAVAILABLE"; }>'.
      Type '{ status: "success"; data: { status: "PENDING" | "PROVISIONING" | "RUNNING" | "SUCCEED" | "FAILED" | "CANCELLED" | "UNAVAILABLE"; commitMessage: string | undefined; commitId: string | undefined; ... 5 more ...; buildUrl: string; }; }' is not assignable to type 'ActionResponse<{ status: "UNAVAILABLE"; }>'.
        Type '{ status: "success"; data: { status: "PENDING" | "PROVISIONING" | "RUNNING" | "SUCCEED" | "FAILED" | "CANCELLED" | "UNAVAILABLE"; commitMessage: string | undefined; commitId: string | undefined; ... 5 more ...; buildUrl: string; }; }' is not assignable to type '{ status: "success"; data: { status: "UNAVAILABLE"; }; }'.
          The types of 'data.status' are incompatible between these types.
            Type '"PENDING" | "PROVISIONING" | "RUNNING" | "SUCCEED" | "FAILED" | "CANCELLED" | "UNAVAILABLE"' is not assignable to type '"UNAVAILABLE"'.
              Type '"PENDING"' is not assignable to type '"UNAVAILABLE"'.

[0m [90m 32 |[39m [90m */[39m
 [90m 33 |[39m [36mexport[39m [36masync[39m [36mfunction[39m getDeploymentStatus()[33m:[39m [33mPromise[39m[33m<[39m[33mActionResponse[39m[33m<[39m[33mDeploymentStatus[39m[33m>>[39m {
[31m[1m>[22m[39m[90m 34 |[39m   [36mreturn[39m withRole([32m'admin'[39m[33m,[39m [36masync[39m () [33m=>[39m {
 [90m    |[39m                            [31m[1m^[22m[39m
 [90m 35 |[39m     [36mconst[39m appId [33m=[39m process[33m.[39menv[33m.[39m[33mAMPLIFY_APP_ID[39m[33m;[39m
 [90m 36 |[39m     [36mconst[39m branchName [33m=[39m process[33m.[39menv[33m.[39m[33mAMPLIFY_BRANCH_NAME[39m [33m||[39m [32m'main'[39m[33m;[39m
 [90m 37 |[39m[0m
Next.js build worker exited with code: 1 and signal: null
